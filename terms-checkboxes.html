<script type="text/javascript">
    let checkBoxes = document.querySelectorAll('input[type=checkbox]');

    const checkboxesAreTrue = () => {
        let checked = false;
        checkBoxes.forEach((checkBox) => {
            if (checkBox.checked) {
                checked = true;
            }
        });
        return checked;
    };


    checkBoxes.forEach((checkBox) => {
        checkBox.addEventListener('change', function () {
            if (checkboxesAreTrue()) {
                disableCTAButtons(false);
            } else {
                disableCTAButtons(true);
            }
        });
    });

    ctaButtonWrappers.forEach((wrapper) => {

    });

    const disableCTAButtons = (toDisable) => {
        console.log("CTAButtons: " + JSON.stringify(ctaButtons));
        ctaButtons.forEach((button) => {
            if (toDisable) {
                button.classList.add("disabled");
            } else {
                button.classList.remove("disabled");
            }
        });
    }

    while (!document.querySelector(".shopify-buy__btn-wrapper button")) {
        await new Promise(r => setTimeout(r, 500));
    }

    ctaButtons = document.querySelectorAll('.shopify-buy__btn-wrapper button');
    ctaButtonWrappers = document.querySelectorAll('shopify-buy__btn-wrapper');
</script>